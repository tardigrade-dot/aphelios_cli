import { Button, LineEdit, ScrollView } from "std-widgets.slint";

export component AppWindow inherits Window {

    width: 600px;
    height: 400px;
    title: "EasySearch 语义搜索模拟器";

    // 定义数据接口
    in property <bool> is_loading: false;
    in property <[string]> search_results: [];
    callback start_search(string);

    VerticalLayout {
        padding: 20px;
        spacing: 15px;

        Text {
            text: "local search";
            font-size: 24px;
            horizontal-alignment: center;
        }

        // 搜索区域
        search_input := LineEdit {
            placeholder-text: "input ...";
            accepted => { root.start_search(self.text) }
        }

        if (is_loading) : Text {
            text: "processing search ...";
            color: gray;
            horizontal-alignment: center;
        }

        // 结果区域
        ScrollView {
            VerticalLayout {
                spacing: 5px;
                for result in search_results : Rectangle {
                    height: 40px;
                    background: #f0f0f0;
                    border-radius: 4px;
                    Text {
                        x: 10px;
                        text: result;
                        vertical-alignment: center;
                    }
                }
            }
        }
    }
}